<div ng-controller="myApp.systemManagement.orgController">
    <div class="row">
        <div class="col-sm-4">
            <div class="panel panel-default">
                <div class="panel-heading clearfix">
                    <div class="pull-left">
                        	机构树
                    </div>
                    <div class="pull-right btn-group">
                    	<button class="btn btn-success btn-sm" ng-click="addOrg()">新增</button>
<!--                         <button class="btn btn-primary btn-sm" ng-click="editPermission()">编辑</button> -->
<!--                         <button class="btn btn-danger btn-sm" ng-click="toDelPermission()">删除</button> -->
                    </div>
                </div>
                <div class="panel-body">
                    	<img src="/lib/images/1_open.png">
		                <treecontrol class="tree-classic"
		                             tree-model="dataForTheTree"
		                             expanded-nodes="expandedNodes"
		                             options="treeOptions"
		                             on-selection="buttonClick(node, selected)">
		                    {{node.name}}
		                </treecontrol>
                </div>
            </div>
        </div>
        
        <div class="col-sm-8">
				<div class="panel panel-default">
                <div class="panel-heading clearfix">
                    <div class="pull-left">
                        	机构信息
                    </div>
                </div>
                <div class="panel-body">
	                <div class="modal-body">
						<form class="form-horizontal" role="form" name="myForm" novalidate>
							<div class="form-group">
								<label class="col-sm-3 control-label"><span style="color: red">*</span>机构名称：</label>
								<div class="col-sm-9">
									<input type="text" class="form-control" ng-model="org.orgName" required placeholder="请输入机构名称">
									<span ng-show="myForm.org.orgName.$error.required && !myForm.org.orgName.$pristine">请输入机构名称</span>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label"><span style="color: red">*</span>机构编码：</label>
								<div class="col-sm-9">
									<input type="hidden" ng-model="org.id"/>
									<input type="text" class="form-control" ng-blur="checkOrgCode()" ng-disabled="org.id" ng-model="org.orgCode" required placeholder="请输入机构编码">
									<span ng-show="myForm.org.orgCode.$error.required && !myForm.org.orgCode.$pristine">请输入机构编码</span>
								</div>
							</div>
							<div class="form-group" ng-hide="isHide">
								<label class="col-sm-3 control-label"><span style="color: red">*</span>父节点名称：</label>
								<div class="col-sm-9">
										<select type="text" name="parentId" class="form-control" ng-model="org.parentId" ng-options="ptd.id as ptd.orgName for ptd in orgList">
<!-- 											<option value="">-- 请选择 --</option> -->
										</select>
<!-- 										<span ng-show="myForm.org.parentId.$error.required && !myForm.org.parentId.$pristine">请选择父节点</span> -->
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label"><span style="color: red">*</span>状态：</label>
								<div class="col-sm-9">
										<select type="text" ng-model="org.state" class="form-control" ng-options="state.value as state.name for state in stateArr" required placeholder="请选择状态">
										</select>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label"><span style="color: red">*</span>排序号：</label>
								<div class="col-sm-9">
									<input type="number" class="form-control"  ng-model="org.sortNo"  maxlength="8" required ng-pattern="/^\d+$/" placeholder="请输入排序号">
									<span ng-show="myForm.org.sort.$error.required && !myForm.org.sort.$pristine" class="am-text-danger" >请输入排序号</span>
									<span ng-show="myForm.org.sort.$error.pattern && !myForm.org.sort.$pristine" class="am-text-danger" >排序号为正整数</span>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-3 control-label">备注：</label>
								<div class="col-sm-9">
									<textarea rows="8" cols="50" ng-model="org.remark" class="form-control"></textarea>
								</div>
							</div>
						</form>
					</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-success btn-sm" data-dismiss="modal" ng-click="addOrUpdateOrg()" ng-disabled="myForm.$invalid">保存</button>
				</div>
                </div>
            </div>
		</div>
	</div>

    
    
    
    
	
	
	
</div>
	
    
    
    
    </div>
</div>